<app-header></app-header>

<div class="container-fluid" style="margin-top: 100px;">
    <h1 class="my-5 text-center text-danger">E-Cart</h1>

    <div *ngIf="allProduct.length>0" class="row my-5">
        <div class="col-md-1"></div>
        <div class="col-md-7 table-responsive">
            <div class="table table-bordered shadow align-middle">
                <thead>
                    <tr class="text-center">
                        <th class="bg-secondary p-3 text-light">SL:NO</th>
                        <th class="bg-secondary p-3 text-light">Product</th>
                        <th class="bg-secondary p-3 text-light">Image</th>
                        <th class="bg-secondary p-3 text-light">Price</th>
                        <th class="bg-secondary p-3 text-light">Quantity</th>
                        <th class="bg-secondary p-3 text-light">Action</th>
                    </tr>
                    
                </thead>
                <tbody>
                    <tr *ngFor="let product of allProduct ,let i = index" class="text-center">
                        <td>{{i+1}}</td>
                        <td>{{product.title}}</td>
                        <td><img [src]="product.image" alt="" style="width:130px ; height: 100px;"></td>
                        <td>$ {{product.price}}</td>
                        <td class="d-flex">
                            <button (click)="decrement(product._id)" class="btn btn-outline-dark">-</button>
                            <input type="text" class="form-control w-50 mx-2" [value]="product.quantity" readonly>
                            <button (click)="increment(product._id)" class="btn btn-outline-dark">+</button>
                        </td>
                        <td><button (click)="removeCartItem(product._id)" class="btn btn-danger"><i class="fa-solid fa-trash"></i></button></td>
                    </tr>
                </tbody>
            </div>

            <div class="d-flex justify-content-center mt-5">
                <button routerLink="/" class="btn btn-outline-success">Add more item</button>
                <button (click)="emptyCart()" class="btn btn-outline-danger ms-3">Empty cart</button>
            </div>
        </div>

        <div class="col-md-3 mt-5 mt-md-0">
            <div class="shadow p-4 rounded">
                <h3 class="text-center text-success">Cart Summary</h3>
                <h5 class="mt-3">Total number of products : {{allProduct.length}}</h5>
                <h5>Grand Total : {{total}} </h5>
                <button (click)="checkOut()" class="btn btn-success mt-3 w-100">Check Out</button>
            </div>
        </div>
       
        <div class="col-md-1"></div>


       
    </div>





<!-- no item -->

    <div *ngIf="allProduct.length==0" class="row my-5">
        <div class="col-md-4"></div>
        <div class="col-md-4 d-flex justify-content-between align-items-center flex-column m-4">
            <img src="https://bakestudio.in/assets/images/cart/empty-cart.gif" alt="no-image" class="w-100 mb-4">
            <button  routerLink="/" class="btn btn-success shadow"><i class="fa-solid fa-house"></i>  back to home </button>
        </div>
        <div class="col-md-4"></div>
    </div>

</div>

<app-footer></app-footer>
